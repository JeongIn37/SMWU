library(dplyr)
#10. 일강수량이 0으로 측정되는 경우 이 값을 NA로 바꾸시오
weather_new$일강수량 <- ifelse(weather_new$일강수량 == 0, NA, weather_new$일강수량)
#######추가예제2#######
weather_new <- weather
library(dplyr)
#8. 요일.구분은 요일구분으로, 평균.현지기압은 평균기압으로 변수명을 바꾸시오
weather_new <- rename(weather_new, 요일구분 = 요일.구분, 평균기압=평균.현지기압)
#9. 새로운 변수 요일구분과 관련해서 출력 순서를 기존의 평일-휴일에서, 휴일-평일로 변경하시오
table(weather_new$요일구분)
#10. 일강수량이 0으로 측정되는 경우 이 값을 NA로 바꾸시오
weather_new$일강수량 <- ifelse(weather_new$일강수량 == 0, NA, weather_new$일강수량)
#9. 새로운 변수 요일구분과 관련해서 출력 순서를 기존의 평일-휴일에서, 휴일-평일로 변경하시오
table(weather_new$요일구분)
weather_new$요일구분 <- factor(weather_new$요일구분, levels = c("휴일", "평일"))
#9. 새로운 변수 요일구분과 관련해서 출력 순서를 기존의 평일-휴일에서, 휴일-평일로 변경하시오
table(weather_new$요일구분)
View(weather_new)
#11. 평균기압에 대한 결측치는 몇 개인가?
table(is.nap(weather_new$평균기압))
#11. 평균기압에 대한 결측치는 몇 개인가?
table(is.na(weather_new$평균기압))
#12. 결측치를 제외한 평균기압 평균은 얼마인가? (유효숫자 소수 둘째자리)
mean(weather_new$평균기압)
#12. 결측치를 제외한 평균기압 평균은 얼마인가? (유효숫자 소수 둘째자리)
var(weather_new$평균기압, na.rm = T)
#12. 결측치를 제외한 평균기압 평균은 얼마인가? (유효숫자 소수 둘째자리)
mean(weather_new$평균기압, na.rm = T)
#12. 결측치를 제외한 평균기압 평균은 얼마인가? (유효숫자 소수 둘째자리)
mean(weather_new$평균기압, na.rm = T, digits = 6)
#12. 결측치를 제외한 평균기압 평균은 얼마인가? (유효숫자 소수 둘째자리)
mean(weather_new$평균기압, na.rm = T, digits = 5)
#12. 결측치를 제외한 평균기압 평균은 얼마인가? (유효숫자 소수 둘째자리)
mean(weather_new$평균기압, na.rm = T)
#12. 결측치를 제외한 평균기압 평균은 얼마인가? (유효숫자 소수 둘째자리)
m <- mean(weather_new$평균기압, na.rm = T)
#11. 평균기압에 대한 결측치는 몇 개인가?
table(is.na(weather_new$평균기압))
#13. 평균기압이 NA인 경우, 이를 문제 12에서 구한 평균값으로 대체하시오
weather_new$평균기압 <- ifelse(weather_new$평균기압 == NA, m, weather_new$평균기압)
#11. 평균기압에 대한 결측치는 몇 개인가?
table(is.na(weather_new$평균기압))
round(mean(weather_new$평균기압, na.rm = T), digits=2)
#######추가예제2#######
weather_new <- weather
library(dplyr)
#8. 요일.구분은 요일구분으로, 평균.현지기압은 평균기압으로 변수명을 바꾸시오
weather_new <- rename(weather_new, 요일구분 = 요일.구분, 평균기압=평균.현지기압)
#9. 새로운 변수 요일구분과 관련해서 출력 순서를 기존의 평일-휴일에서, 휴일-평일로 변경하시오
table(weather_new$요일구분)
weather_new$요일구분 <- factor(weather_new$요일구분, levels = c("휴일", "평일"))
#10. 일강수량이 0으로 측정되는 경우 이 값을 NA로 바꾸시오
weather_new$일강수량 <- ifelse(weather_new$일강수량 == 0, NA, weather_new$일강수량)
#11. 평균기압에 대한 결측치는 몇 개인가?
table(is.na(weather_new$평균기압))
round(mean(weather_new$평균기압, na.rm = T), digits=2)
#12. 결측치를 제외한 평균기압 평균은 얼마인가? (유효숫자 소수 둘째자리)
#m <- mean(weather_new$평균기압, na.rm = T)
m <- round(mean(weather_new$평균기압, na.rm = T), digits=2)
#13. 평균기압이 NA인 경우, 이를 문제 12에서 구한 평균값으로 대체하시오
weather_new$평균기압 <- ifelse(weather_new$평균기압 == NA, m, weather_new$평균기압)
#교수님 코드(13번)
weather_new$평균기압 <- ifelse(is.na(weather_new$평균기압), m, weather_new$평균기압)
#11. 평균기압에 대한 결측치는 몇 개인가?
table(is.na(weather_new$평균기압))
#12번 + 13번
weather_new$평균기압 <- ifelse(is.na(weather_new$평균기압), round(mean(weather_new$평균기압, na.rm = T), digits=2), weather_new$평균기압)
#1. weather.csv를 불러와서 weather 데이터 프레임 만들기
weather <- read.csv("weather.csv", stringsAsFactors = F, fileEncoding = "euc-kr")
#3. '일시' 변수에 대해 측정 척도를 문자에서 날짜(date)로, '요일 구분'에 대해 범주(factor)로 바꾸시오
## 힌트 요일로 변경 - df$var <- as.Date(df$var) /범주로 변경 - df$var <- as.factor(df$var)
weather$일시 <- as.Date(weather$일시)
weather$요일.구분 <- as.factor(weather$요일.구분)
str(weather) #타입 확인용
#4. 일시 변수를 이용해서 요일(월~일요일)을 파악한 후 이를 '요일'이라는 이름의 변수에 저장하시오. 그리고 '요일'변수의 척도를 문자에서 범주로 바꾸시오
## 힌트: 내장함수인 weekdays()를 활용함
weather$요일 <- weekdays(weather$일시)
weather$요일 <- as.factor(weather$요일)
#5. 14개 변수에 대해 summary()를 통해 검토해 보시오.
summary(weather)
#7. 요일과 요일.구분에 대해 빈도수를 각각 구하시오.
##요일의 경우, 가나다 순서대로 된 정렬을 요일별로 바꿀 수는 없을까?
table(weather$요일)
table(weather$요일.구분)
weather$요일 <- factor(weather$요일, levels = c("월요일", "화요일", "수요일", "목요일", "금요일", "토요일", "일요일"))
#7. 요일과 요일.구분에 대해 빈도수를 각각 구하시오.
##요일의 경우, 가나다 순서대로 된 정렬을 요일별로 바꿀 수는 없을까?
table(weather$요일)
#요일을 한글로 설정하기 위해 시스템을 한글로 세팅
Sys.setlocale("LC_ALL", "ko_KR.UTF-8")
#1. weather.csv를 불러와서 weather 데이터 프레임 만들기
weather <- read.csv("weather.csv", stringsAsFactors = F, fileEncoding = "euc-kr")
#2. 측정 척도가 문자인 변수는 무엇인가?
str(weather)
#3. '일시' 변수에 대해 측정 척도를 문자에서 날짜(date)로, '요일 구분'에 대해 범주(factor)로 바꾸시오
## 힌트 요일로 변경 - df$var <- as.Date(df$var) /범주로 변경 - df$var <- as.factor(df$var)
weather$일시 <- as.Date(weather$일시)
weather$요일.구분 <- as.factor(weather$요일.구분)
str(weather) #타입 확인용
#4. 일시 변수를 이용해서 요일(월~일요일)을 파악한 후 이를 '요일'이라는 이름의 변수에 저장하시오. 그리고 '요일'변수의 척도를 문자에서 범주로 바꾸시오
## 힌트: 내장함수인 weekdays()를 활용함
weather$요일 <- weekdays(weather$일시)
weather$요일 <- as.factor(weather$요일)
#5. 14개 변수에 대해 summary()를 통해 검토해 보시오.
summary(weather)
#6. ‘일강수량’ 변수에 대해 분산을 구해 보시오.
weather$일강수량[is.na(weather$일강수량)] <- 0
summary(weather)
exam %>% filter(class == 1)
library(dplyr)
exam %>% filter(class == 1)
exam_male <- exam %>% filter(gender == "Male")
var(exam_male$english)
### 1. 1반, 2반, 3반 학생들의 수학시험 평균은 얼마인가?
exam_1 <- exam %>%  filter(class == 1)
mean(exam_1)
exam_1
mean(exam_1$math)
exam_2 <- exam %>%  filter(class == 2)
mean(exam_2$math)
exam_3 <- exam %>%  filter(class == 3)
mean(exam_3$math)
### 2. 4반이 아닌 학생들 중에서 수학시험이 90점 이상이거나, 역사시험이 95점 이상인 학생들을 추출하여 새로운 데이터 프레임(exam_N4)을 만드시오.
exam_N4 <- exam %>% filter(class != 4 & (math >= 90 | history >= 95))
exam_N4
### 2. 4반이 아닌 학생들 중에서 수학시험이 90점 이상이거나, 역사시험이 95점 이상인 학생들을 추출하여 새로운 데이터 프레임(exam_N4)을 만드시오.
exam_N4 <- exam %>% filter(class != 4 & math >= 90 | history >= 95)
exam_N4
mean(exam_123$math)
exam_123 <- exam %>% filter(class == (1 | 2 | 3))
mean(exam_123$math)
exam_123$math
exam_123 <- exam %>% filter(class == 1 | class == 2 | class ==3)
mean(exam_123$math)
exam_123 <- exam %>% filter(class %in% c(1, 2, 3))
mean(exam_123$math)
#교수님 코드
exam_N4 <- exam %>% filter(class != 4) %>% filter(math >= 90 | history >= 95)
### 2. 4반이 아닌 학생들 중에서 수학시험이 90점 이상이거나, 역사시험이 95점 이상인 학생들을 추출하여 새로운 데이터 프레임(exam_N4)을 만드시오.
#내 코드
exam_N4 <- exam %>% filter(class != 4 & (math >= 90 | history >= 95))
### 2. 4반이 아닌 학생들 중에서 수학시험이 90점 이상이거나, 역사시험이 95점 이상인 학생들을 추출하여 새로운 데이터 프레임(exam_N4)을 만드시오.
#내 코드
exam_N4 <- exam %>% filter(class != 4 & (math >= 90 | history >= 95))
View(exam_N4)
### 3. 영어시험 성적이 상위 10%인 학생들만 추출하시오.
exam %>% filter(english >= quantile(english, probs = c(0.9)))
quantile(exam$english, probs = c(0.9))
### 4. 배기량이 4 이하인 자동차의 고속도로 연비평균과 배기량이 5 이상인 자동차의 고속도로 연비평균을 비교하시오.
mpg_4 <- mpg %>% filter(displ == 4)
mean(mpg_4$highway)
mpg_5 <- mpg %>% filter(displ == 5)
mean(mpg_4$highway)
mean(mpg_5$highway)
View(mpg)
### 5. 아우디와 도요타의 도심연비 평균을 비교하시오.
mpg_audi <- mpg %>% filter(manufacturer == "audi")
mpg_toyota <- mpg %>% filter(manufacturer == 'toyota')
is(mean(mpg_audi$city) > mean(mpg_toyota$city))
mean(mpg_audi$city) > mean(mpg_toyota$city)
mean(mpg_audi$city)
mean(mpg_toyota$city)
mean(mpg_audi$city) > mean(mpg_toyota$city)
mean(mpg_4$highway) > mean(mpg_5$highway)
View(mpg)
### 6. 세 회사(쉐보레, 포드, 혼다 자동차)의 고속도로연비 평균을 구하시오.
mpg_chevrolet <- mpg %>% filter(manufacturer == "chevrolet")
mpg_ford <- mpg %>% filter(manufacturer == "ford")
mpg_honda <- mpg %>% filter(manufacturer == "honda")
mpg_cfh <- mpg %>% filter(manufacturer %in% c("chevrolet", "ford", "honda"))
mean(mpg_cfh$highway)
mean(mpg_cfh$highway)
### 4. 배기량이 4 이하인 자동차의 고속도로 연비평균과 배기량이 5 이상인 자동차의 고속도로 연비평균을 비교하시오.
mpg_4 <- mpg %>% filter(displ <= 4)
mpg_5 <- mpg %>% filter(displ >= 5)
mean(mpg_4$highway) > mean(mpg_5$highway)
mean(mpg_4$highway)
mean(mpg_5$highway)
mean(mpg_4$highway) > mean(mpg_5$highway)
### select 함수 ###
exam %>% select(class, math, english)
exam %>% select(-address)
exam %>% select(contains("add"))
exam %>% select(-contains("add"))
### 7. 1반 학생들만을 대상으로 성별과 수학점수를 추출
exam %>% filter(class == 1) %>% select(gender, math)
exam %>% filter(class==1)
### 8. mpg에서 class와 city 두 개 변수만을 추출해서 새로운 데이터 프레임(mpg_cc)을 만드시오.
mpg_cc <- mpg %>% select(class, city)
View(mpg_cc)
### 9. 위에서 만든 데이터 프레임에서 suv 자동차와 compact 자동차의 도시연비 평균을 비교하시오.
mpg_ccSUV <- mpg_cc %>% filter(class="suv")
### 9. 위에서 만든 데이터 프레임에서 suv 자동차와 compact 자동차의 도시연비 평균을 비교하시오.
mpg_ccSUV <- mpg_cc %>% filter(class == "suv")
mpg_ccCOM <- mpg_cc %>% filter(class == "compact")
mean(mpg_ccSUV$city)
mean(mpg_ccCOM$city)
mean(mpg_ccSUV$city) > mean(mpg_ccCOM$city)
View(mpg_ccCOM)
### 10. 아우디 모델 중에서 고속도로 연비가 가장 높은 상위 3개 모델은?
mpg_audi %>% arrange(desc(highway))
exam %>% arrange(math)
exam %>% arrange(-math)
exam %>% arrange(class, -math)
mpg %>% filter(manufacturer=="audi") %>% arrange(desc(highway))
mpg %>% filter(manufacturer=="audi") %>% arrange(-highway) %>% head(3)
library(dplyr)
### mutate 함수 ###
exam %>% mutate(total = math + english + history)
### mutate 함수 ###
exam <- exam %>% mutate(total = math + english + history)
exam
exam <- exam %>% mutate(average = (math + english + history)/3)
View(exam)
exam <- exam %>% mutate(total = math + english + history, average = (math + english + history)/3)
exam$average <- round(exam$average, digits=2)
exam
exam <- exam %>% mutate(average = (math + english + history)/3)
exam
exam$average <- round(exam$average, digits=2) #averager값 소수점 자리수 조절
### 11. 파생변수 sum(통합연비: 도심연비와 고속도로연비 합산)을 만드시오.
mpg <- mpg %>% mutate(sum = city + highway)
### 12. 통합연비의 평균은 얼마인가?
mean(mpg$sum)
### 13. 파생변수 avg(평균연비: 도심연비와 고속도로연비 평균)를 만들고, 평균 연비가 가장 높은 자동차 모델 세 개가 무엇인지 확인하시오.
mpg <- mpg %>% avg(mean(mpg$sum))
### 13. 파생변수 avg(평균연비: 도심연비와 고속도로연비 평균)를 만들고, 평균 연비가 가장 높은 자동차 모델 세 개가 무엇인지 확인하시오.
mpg <- mpg %>% mutate(avg = mean(mpg$sum))
mpg %>% arrange(-avg) %>% heasd(3)
mpg %>% arrange(-avg) %>% head(3)
View(mpg)
### 13. 파생변수 avg(평균연비: 도심연비와 고속도로연비 평균)를 만들고, 평균 연비가 가장 높은 자동차 모델 세 개가 무엇인지 확인하시오.
mpg <- mpg %>% mutate(avg = (city + highway)/2)
mpg %>% arrange(-avg) %>% head(3)
exam %>% group_by(class) %>% summarise(count = n(), mean_math = mean(math), sd_math = sd(math))
exam_clshist <- exam %>% group_by(class, gender) %>% summarise(count = n(), mean_history = mean(history))
View(exam_clshist)
#세부 집단별 학생들의 구성비율을 보여주는 새로운 변수(perc) 만들기
exam_clshist <- exam_clshist %>% mutate(perc = count/sum(count))
View(mpg)
View(exam_clshist)
sum(count)
exam_clshist$sum(count)
exam_clshist <- exam_clshist %>% mutate(prop = count/sum(exam_clshist$count))
### 14. 자동차 모델을 제조사별, 구동방식별로 구분한 후, 도심연비평균과 고속도로연비평균 요약 결과를 제시하시오.
mpg %>% group_by(manufacturer, trans) %>% summarise(city, highway)
### 15. 자동차 모델을 제조사별로 구분한 후, suv 모델에 대해 통합 연비 평균 상위 3개 모델을 구하시오.
mpg %>% group_by(manufacturer) %>% arrange(-sum) %>% head(3) %>% summarise(suv)
### 15. 자동차 모델을 제조사별로 구분한 후, suv 모델에 대해 통합 연비 평균 상위 3개 모델을 구하시오.
mpg %>% group_by(manufacturer) %>% arrange(-sum) %>% head(3) %>% summarise(class=="suv")
### 15. 자동차 모델을 제조사별로 구분한 후, suv 모델에 대해 통합 연비 평균 상위 3개 모델을 구하시오.
mpg %>% group_by(manufacturer) %>% arrange(-sum) %>% summarise(class=="suv")
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 평균 배기량 구하기 -> arrange
mpg %>% group_by(trans) %>% arrange(mean(displ)) %>% summarise(mean(displ))
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 평균 배기량 구하기 -> arrange
mpg %>% group_by(trans) %>% arrange(-mean(displ)) %>% summarise(mean(displ))
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 평균 배기량 구하기 -> arrange
mpg %>% group_by(trans) %>%  summarise(mean(displ))
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 평균 배기량 구하기 -> arrange
mpg %>% group_by(trans) %>% arrange(mean(displ)) %>% summarise(mean(displ))
### 10. 아우디 모델 중에서 고속도로 연비가 가장 높은 상위 3개 모델은?
mpg_audi %>% arrange(desc(highway))
### 10. 아우디 모델 중에서 고속도로 연비가 가장 높은 상위 3개 모델은?
mpg_audi %>% arrange(-desc(highway))
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 평균 배기량 구하기 -> arrange
mpg %>% group_by(trans) %>% arrange(mean(displ)) %>% head(3) %>% summarise(mean(displ))
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 평균 배기량 구하기 -> arrange
mpg %>% group_by(trans) %>% arrange(-mean(displ)) %>% head(3) %>% summarise(mean(displ))
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 평균 배기량 구하기 -> arrange
mpg %>% group_by(trans) %>% arrange(-mean(displ)) %>% head(3) %>% summarise(-mean(displ))
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 구분 -> 평균 배기량 구하기 -> arrange -> head -> summarise
mpg %>% group_by(trans) %>% mutate(displ_avg = mean(displ)) %>% arrange(-mean(displ)) %>% head(3) %>% summarise(mean(displ))
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 구분 -> 평균 배기량 구하기 -> arrange -> head -> summarise
mpg %>% group_by(trans) %>% mutate(displ_avg = mean(displ)) %>% arrange(-mean(displ)) %>% head(3) %>% summarise(displ_avg)
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 구분 -> 평균 배기량 구하기 -> arrange -> head -> summarise
mpg %>% group_by(trans) %>% mutate(displ_avg = mean(displ)) %>% arrange(displ_avg) %>% head(3) %>% summarise(displ_avg)
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 구분 -> 평균 배기량 구하기 -> arrange -> head -> summarise
mpg %>% group_by(trans) %>% mutate(displ_avg = mean(displ)) %>% arrange(-displ_avg) %>% head(3) %>% summarise(displ_avg)
View(mpg)
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 구분 -> 평균 배기량 구하기 -> arrange -> head -> summarise
mpg %>% group_by(trans) %>% mutate(displ_avg = mean(displ)) %>% arrange(-displ_avg) %>% head(3) %>% summarise(trans)
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 구분 -> 평균 배기량 구하기 -> arrange -> head -> summarise
mpg %>% group_by(trans) %>% mutate(displ_avg = mean(displ)) %>% arrange(-displ_avg) %>% head(3) %>% summarise(trans, displ_avg)
### 14. 자동차 모델을 제조사별, 구동방식별로 구분한 후, 도심연비평균과 고속도로연비평균 요약 결과를 제시하시오.
mpg %>% group_by(manufacturer, drv) %>% summarise(mean(city), mean(highway)) %>% print(n=22)
### 14. 자동차 모델을 제조사별, 구동방식별로 구분한 후, 도심연비평균과 고속도로연비평균 요약 결과를 제시하시오.
mpg %>% group_by(manufacturer, drv) %>% summarise(mean(city), mean(highway)) %>% print(n=100)
### 14. 자동차 모델을 제조사별, 구동방식별로 구분한 후, 도심연비평균과 고속도로연비평균 요약 결과를 제시하시오.
mpg %>% group_by(manufacturer, drv) %>% summarise(mean(city), mean(highway)) %>% print(n=100)
### 15. 자동차 모델을 제조사별로 구분한 후, suv 모델에 대해 통합 연비 평균 상위 3개 모델을 구하시오.
mpg %>% group_by(manufacturer) %>% filter(class=="suv") %>% arrange(-sum) %>% head(3) %>% summarise(class=="suv")
### 15. 자동차 모델을 제조사별로 구분한 후, suv 모델에 대해 통합 연비 평균 상위 3개 모델을 구하시오.
mpg %>% group_by(manufacturer) %>% filter(class=="suv") %>% arrange(-sum) %>% head(3) %>% summarise(mean(sum))
### 15. 자동차 모델을 제조사별로 구분한 후, suv 모델에 대해 통합 연비 평균 상위 3개 모델을 구하시오.
mpg %>% group_by(manufacturer) %>% filter(class=="suv") %>% head(3) %>% summarise(mean_sum = mean(sum))
### 15. 자동차 모델을 제조사별로 구분한 후, suv 모델에 대해 통합 연비 평균 상위 3개 모델을 구하시오.
mpg %>% group_by(manufacturer) %>% filter(class=="suv") %>% summarise(mean_sum = mean(sum))
### 15. 자동차 모델을 제조사별로 구분한 후, suv 모델에 대해 통합 연비 평균 상위 3개 모델을 구하시오.
mpg %>% group_by(manufacturer) %>% filter(class=="suv") %>% summarise(mean_sum = mean(sum)) %>% arrange(-mean_sum)
### 15. 자동차 모델을 제조사별로 구분한 후, suv 모델에 대해 통합 연비 평균 상위 3개 모델을 구하시오.
mpg %>% group_by(manufacturer) %>% filter(class=="suv") %>% summarise(mean_sum = mean(sum)) %>% arrange(-mean_sum) %>% head(3)
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 구분 -> 평균 배기량 구하기 -> arrange -> head -> summarise
mpg %>% group_by(trans) %>% summarise(mean_displ = mean(displ)) %>% arrange(-mean_displ)
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 구분 -> 평균 배기량 구하기 -> arrange -> head -> summarise
mpg %>% group_by(trans) %>% summarise(mean_displ = mean(displ)) %>% arrange(-mean_displ) %>% head(3)
### 17. 4기통 모델을 가장 많이 생산하는 업체 세 곳을 순서대로 구하시오.
mpg %>% group_by(manufacturer) %>% filter(cyl == 4) %>% summarise(count = n()) %>% arrange(-count) %>% head(3)
vl <- c(1:30)
exam <- exam %>% mutate(id=vl)
library(dplyr)
exam <- exam %>% mutate(id=vl)
exam <- exam %>% relocate(id, .before = address)
View(exam)
exam <- exam %>% relocate(english, .after = math)
View(exam)
exam_science <- read.csv("exam_science.csv", stringsAsFactors = F)
View(exam_science)
exam <- left_join(exam, exam_science, by="id")
### left_join 실습
###연료별 가격 데이터 프레임(fuel_price) 만들기
fuel_price <- data.frame(fuel=c("CNG","disel","ethanol","premium","regular"),fuel_price = c(2.35,2.38,2.11,2.76,2.22))
View(fuel_price)
mpg <- left_join(mpg, fuel_price, by="fuel")
View(mpg)
### left_join 실습
###연료별 가격 데이터 프레임(fuel_price) 만들기
fuel_price <- data.frame(fuel=c("CNG","diesel","ethanol","premium","regular"),fuel_price = c(2.35,2.38,2.11,2.76,2.22))
View(fuel_price)
mpg <- left_join(mpg, fuel_price, by="fuel")
View(mpg)
exam <- exam %>% relocate(Science, .before = total)
View(exam)
str(mpg$fuel)
mpg$fuel <- as.factor(mpg$fuel)
str(mpg$fuel)
str(fuel_price$fuel)
### 19-1. 구동방식별 가격 데이터 프레임(drv_price) 만들기
dry_price <- data.frame(driving=c("4","Forward","rear"), driving_price = c(40000, 30000, 50000))
View(dry_price)
rm(dry_price)
### 19-1. 구동방식별 가격 데이터 프레임(drv_price) 만들기
drv_price <- data.frame(driving=c("4","Forward","rear"), driving_price = c(40000, 30000, 50000))
View(mpg)
View(mpg)
View(mpg)
### 19-2. mpg와 drv_price 합치기
mpg <- left_join(mpg, drv_price, by=c("drv"="driving"))
View(mpg)
### 19-1. 구동방식별 가격 데이터 프레임(drv_price) 만들기
drv_price <- data.frame(driving=c(4,"Forward","rear"), driving_price = c(40000, 30000, 50000))
View(drv_price)
mpg <- mpg
View(mpg)
View(mpg_ccCOM)
View(mpg_cc)
View(mpg_audi)
View(mpg)
###변수명 바꾸기
library(ggplot2)
View(mpg)
View(mpg)
View(mpg)
###변수명 바꾸기
library(ggplot2)
mpg <- mpg
mpg
rm(mpg)
mpg <- mpg
mpg
str(mpg)
summary(mpg)
table(mpg$drv)
table(mpg$fl)
library(dplyr)
mpg <- rename(mpg, fuel = fl)
mpg <- rename(mpg, city = cty)
mpg <- rename(mpg, highway = hwy)
mpg
###측정값 바꾸기
ifelse("A"=="B", "True", "False")
v1 <- 3
ifelse(v1 >= 3, "Y", "N")
mpg$drv <- ifelse(mpg$drv == "f", "forward", mpg$drv)
mpg$drv <- ifelse(mpg$drv == "r", "rear", mpg$drv)
mpg$fuel <- ifelse(mpg$fuel == "r", "regular", mpg$fuel)
mpg$fuel <- ifelse(mpg$fuel == "c", "CNG", mpg$fuel)
mpg$fuel <- ifelse(mpg$fuel == "p", "premium", mpg$fuel)
mpg$fuel <- ifelse(mpg$fuel == "e", "ethanol", mpg$fuel)
mpg$fuel <- ifelse(mpg$fuel == "d", "diesel", mpg$fuel)
mpg
### 4. 배기량이 4 이하인 자동차의 고속도로 연비평균과 배기량이 5 이상인 자동차의 고속도로 연비평균을 비교하시오.
mpg_4 <- mpg %>% filter(displ <= 4)
mpg_5 <- mpg %>% filter(displ >= 5)
### 5. 아우디와 도요타의 도심연비 평균을 비교하시오.
mpg_audi <- mpg %>% filter(manufacturer == "audi")
mpg_toyota <- mpg %>% filter(manufacturer == 'toyota')
mean(mpg_audi$city) > mean(mpg_toyota$city)
### 6. 세 회사(쉐보레, 포드, 혼다 자동차)의 고속도로연비 평균을 구하시오.
mpg_cfh <- mpg %>% filter(manufacturer %in% c("chevrolet", "ford", "honda"))
mean(mpg_cfh$highway)
### 8. mpg에서 class와 city 두 개 변수만을 추출해서 새로운 데이터 프레임(mpg_cc)을 만드시오.
mpg_cc <- mpg %>% select(class, city)
### 9. 위에서 만든 데이터 프레임에서 suv 자동차와 compact 자동차의 도시연비 평균을 비교하시오.
mpg_ccSUV <- mpg_cc %>% filter(class == "suv")
mpg_ccCOM <- mpg_cc %>% filter(class == "compact")
### 9. 위에서 만든 데이터 프레임에서 suv 자동차와 compact 자동차의 도시연비 평균을 비교하시오.
mpg_ccSUV <- mpg_cc %>% filter(class == "suv")
mpg_ccCOM <- mpg_cc %>% filter(class == "compact")
mean(mpg_ccSUV$city) > mean(mpg_ccCOM$city)
mpg
### 10. 아우디 모델 중에서 고속도로 연비가 가장 높은 상위 3개 모델은?
mpg_audi %>% arrange(desc(highway))
mpg %>% filter(manufacturer=="audi") %>% arrange(-highway) %>% head(3)
### 11. 파생변수 sum(통합연비: 도심연비와 고속도로연비 합산)을 만드시오.
mpg <- mpg %>% mutate(sum = city + highway)
### 12. 통합연비의 평균은 얼마인가?
mean(mpg$sum)
### 13. 파생변수 avg(평균연비: 도심연비와 고속도로연비 평균)를 만들고, 평균 연비가 가장 높은 자동차 모델 세 개가 무엇인지 확인하시오.
mpg <- mpg %>% mutate(avg = (city + highway)/2)
mpg %>% arrange(-avg) %>% head(3)
### 14. 자동차 모델을 제조사별, 구동방식별로 구분한 후, 도심연비평균과 고속도로연비평균 요약 결과를 제시하시오.
mpg %>% group_by(manufacturer, drv) %>% summarise(mean(city), mean(highway)) %>% print(n=100)
### 15. 자동차 모델을 제조사별로 구분한 후, suv 모델에 대해 통합 연비 평균 상위 3개 모델을 구하시오.
mpg %>% group_by(manufacturer) %>% filter(class=="suv") %>% summarise(mean_sum = mean(sum)) %>% arrange(-mean_sum) %>% head(3)
### 16. 평균 배기량이 가장 높은 세 개 변속기를 제시하시오
#변수기별 구분 -> 평균 배기량 구하기 -> arrange -> head -> summarise
mpg %>% group_by(trans) %>% summarise(mean_displ = mean(displ)) %>% arrange(-mean_displ) %>% head(3)
### 17. 4기통 모델을 가장 많이 생산하는 업체 세 곳을 순서대로 구하시오.
mpg %>% group_by(manufacturer) %>% filter(cyl == 4) %>% summarise(count = n()) %>% arrange(-count) %>% head(3)
vl <- c(1:30)
### left_join 실습
###연료별 가격 데이터 프레임(fuel_price) 만들기
fuel_price <- data.frame(fuel=c("CNG","diesel","ethanol","premium","regular"),fuel_price = c(2.35,2.38,2.11,2.76,2.22))
mpg <- left_join(mpg, fuel_price, by="fuel")
### 19-1. 구동방식별 가격 데이터 프레임(drv_price) 만들기
drv_price <- data.frame(driving=c(4,"Forward","rear"), driving_price = c(40000, 30000, 50000))
### 19-2. mpg와 drv_price 합치기
mpg <- left_join(mpg, drv_price, by=c("drv"="driving"))
mpg
View(mpg)
### 19-1. 구동방식별 가격 데이터 프레임(drv_price) 만들기
drv_price <- data.frame(driving=c(4,"forward","rear"), driving_price = c(40000, 30000, 50000))
### 19-2. mpg와 drv_price 합치기
mpg <- left_join(mpg, drv_price, by=c("drv"="driving"))
mpg
View(mpg)
### 20. fuel_price는 fuel 뒤로, drv_price는 city 앞으로 이동시키기
mpg <- mpg %>% relocate(fuel_price, .after=fuel)
mpg <- mpg %>% relocate(drv_price, .before = city)
View(drv_price)
View(mpg)
mpg$driving_price.x<-NULL
View(mpg)
mpg$driving_price.y<-NULL
View(drv_price)
View(fuel_price)
View(mpg)
### 19-1. 구동방식별 가격 데이터 프레임(drv_price) 만들기
drv_price <- data.frame(driving=c(4,"forward","rear"), driving_price = c(40000, 30000, 50000))
View(mpg)
### 19-2. mpg와 drv_price 합치기
mpg <- left_join(mpg, drv_price, by=c("drv"="driving"))
View(mpg)
mpg <- mpg %>% relocate(drv_price, .before = city)
mpg <- mpg %>% relocate(driving_price, .before = city)
mpg
### 19-1. 구동방식별 가격 데이터 프레임(drv_price) 만들기
drv_price <- data.frame(driving=c(4,"forward","rear"), drv_price = c(40000, 30000, 50000))
mpg <- mpg %>% relocate(drv_price, .before = city)
View(mpg)
### 19-2. mpg와 drv_price 합치기
mpg <- left_join(mpg, drv_price, by=c("drv"="driving"))
View(mpg)
driving_price <- NULL
mpg$driving_price <- NULL
View(mpg)
### 19-2. mpg와 drv_price 합치기
mpg <- left_join(mpg, drv_price, by=c("drv"="driving"))
mpg <- mpg %>% relocate(drv_price, .before = city)
View(mpg)
mpg$drv_price.x<-NULL
mpg$drv_price.y<-NULL
### 19-1. 구동방식별 가격 데이터 프레임(drv_price) 만들기
drv_price <- data.frame(driving=c(4,"forward","rear"), drv_price = c(40000, 30000, 50000))
### 19-2. mpg와 drv_price 합치기
mpg <- left_join(mpg, drv_price, by=c("drv"="driving"))
mpg <- mpg %>% relocate(drv_price, .before = city)
View(mpg)
### bind_rows 함수 실습
exam_add <- read.csv("exam_add.csv", stringsAsFactors = F)
### bind_rows 함수 실습
exam_add <- read.csv("exam_add.csv", stringsAsFactors = F)
midwest <- midwest
library(ggplot2)
midwest <- midwest
midwest_test <- midwest
View(midwest_test)
